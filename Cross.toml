[build]
volumes = ["/dev/shm/cargo_target:/dev/shm/cargo_target"]

[target.armv7-unknown-linux-gnueabihf]
image = "ghcr.io/cross-rs/armv7-unknown-linux-gnueabihf:main"
pre-build = [
    "dpkg --add-architecture armhf",
    "apt-get update",
    "apt-get install --assume-yes --no-install-recommends libssl-dev:armhf libasound-dev:armhf",
    "PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig",
    "PKG_CONFIG_ALLOW_CROSS=1"
]

[target.arm-unknown-linux-gnueabihf]
image = "ljufa/rsplayer_cross_armhf:0.0.1"

[target.aarch64-unknown-linux-gnu]
image = "ghcr.io/cross-rs/aarch64-unknown-linux-gnu:main"
pre-build = [
    "dpkg --add-architecture arm64",
    "apt-get update",
    "apt-get install --assume-yes --no-install-recommends wget libssl-dev:arm64 libasound-dev:arm64 libasound2-dev:arm64",
    "PKG_CONFIG_PATH=/usr/lib/aarch64-linux-gnu/pkgconfig",
    "PKG_CONFIG_ALLOW_CROSS=1",
]

[target.x86_64-unknown-linux-gnu]
image = "ghcr.io/cross-rs/x86_64-unknown-linux-gnu:main"
pre-build = ["apt-get update && apt-get install --assume-yes --no-install-recommends wget libssl-dev libasound-dev libasound2-dev"]
